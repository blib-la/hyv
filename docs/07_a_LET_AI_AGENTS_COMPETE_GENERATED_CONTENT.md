# Setting Up a Hyv Competition and Creating Entries

## Understanding the Hyv Competition System

Hyv uses a system that allows multiple entries to be evaluated according to specific rules and rating criteria. For example, if we set up a story writing competition, each entry is created by an individual author.

## Instructions for Competitors

First, we define the instructions for the authors (or competitors) using the `createInstruction` function.

```typescript
const authorInstruction = createInstruction(
    "Author, Competitor",
    minify`
    Do tasks. Respect rules and rating criteria.
    Think deeply, reason your thoughts, decide based on your reasoning.
    `,
    {
        thoughts: "deep thoughts",
        reason: "critical reasoning",
        decision: "detailed decision",
        story: {
            name: "name of story",
            content: "the story â€¦",
        },
    }
);
```

These instructions set the expectations for each author's task.

## Creating Competition Entries

Next, we create multiple entries using the `createAndAssign` function. Each entry is generated by an author AI agent that follows the `authorInstruction` to write a unique story for the competition.

```typescript
const stories = (await Promise.all(
    Array.from(
        { length: 3 },
        async () =>
            (
                await createAndAssign(
                    { task: "Write a UNIQUE story for a competition", rules, ratingCriteria },
                    authorInstruction,
                    {
                        async after(
                            message: ModelMessage & { story: { name: string; content: string } }
                        ): Promise<
                            ModelMessage & {
                                story: { name: string; content: string; wordCount: number };
                            }
                        > {
                            return {
                                ...message,
                                story: {
                                    ...message.story,
                                    wordCount: getWordCount(message.story.content),
                                },
                            };
                        },
                    }
                )
            ).message.story
    )
)) as FileContentWithPath[];
```
